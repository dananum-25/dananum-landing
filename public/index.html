<!doctype html>
<html lang="ko">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>ë‹¤ë‚˜ëˆ”ë Œíƒˆ - ì •ìˆ˜ê¸° ë¬´ë£Œìƒë‹´ ì‹ ì²­</title>
  <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-7356591276029815" crossorigin="anonymous"></script>
  <style>
    :root {
      --bg: #0b2230;
      --card: #ffffff;
      --text: #111;
      --muted: #666;
      --line: #e6e6e6;
      --primary: #e60012;
      --primary-pressed: #c1000f;
      --chip: #f3f4f6;
      --chip-on: #111827;
      --chip-on-bg: #e5e7eb;
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      font-family: system-ui, -apple-system, Segoe UI, Roboto, "Noto Sans KR", Arial, sans-serif;
      background: #000;
      color: var(--text);
    }
    .wrap {
      width: 100%;
      max-width: 980px;
      margin: 0 auto;
      background: #000;
    }
    .img-block {
      width: 100%;
      display: block;
    }
    .img-block img {
      width: 100%;
      height: auto;
      display: block;
    }

    /* Form */
    .form-zone {
      background: #ffffff;
      padding: 18px 14px;
      border-left: 0;
      border-right: 0;
    }
    .form-inner {
      display: grid;
      gap: 14px;
      background: #fff;
      border: 1px solid var(--line);
      border-radius: 14px;
      padding: 14px;
    }
    .q {
      display: grid;
      gap: 10px;
    }
    .q-title {
      font-size: 16px;
      font-weight: 800;
      letter-spacing: -0.2px;
    }
    .chips {
      display: flex;
      flex-wrap: wrap;
      gap: 10px;
    }
    .chip {
      appearance: none;
      border: 1px solid #d1d5db;
      background: var(--chip);
      padding: 10px 14px;
      border-radius: 12px;
      font-size: 14px;
      font-weight: 700;
      color: #111;
      cursor: pointer;
      user-select: none;
    }
    .chip[data-selected="true"] {
      background: #2563eb;
      border-color: #2563eb;
      color: #ffffff;
    }
    .chip {
      transition: all 0.15s ease;
    }
    .row {
      display: grid;
      gap: 10px;
    }
    label {
      font-size: 13px;
      color: var(--muted);
      font-weight: 700;
    }
    input[type="text"], input[type="tel"] {
      width: 100%;
      height: 46px;
      border: 1px solid #d1d5db;
      border-radius: 12px;
      padding: 0 14px;
      font-size: 16px;
      outline: none;
    }
    input[type="text"]:focus, input[type="tel"]:focus {
      border-color: #9ca3af;
    }
    .agree {
      display: grid;
      gap: 8px;
      padding-top: 6px;
    }
    .agree-line {
      display: flex;
      align-items: center;
      gap: 10px;
      font-size: 14px;
      font-weight: 700;
    }
    .agree a {
      color: #2563eb;
      text-decoration: none;
      font-weight: 800;
    }
    .agree a:hover { text-decoration: underline; }
    .hint {
      font-size: 12px;
      color: #6b7280;
      line-height: 1.35;
    }

    /* CTA Image Button */
    .cta-btn {
      width: 100%;
      border: 0;
      padding: 0;
      background: transparent;
      cursor: pointer;
    }
    .cta-btn:active {
      transform: translateY(1px);
    }

    /* Toast */
    .toast {
      position: fixed;
      left: 50%;
      bottom: 18px;
      transform: translateX(-50%);
      background: rgba(0,0,0,0.88);
      color: #fff;
      padding: 10px 12px;
      border-radius: 12px;
      font-size: 13px;
      font-weight: 700;
      opacity: 0;
      pointer-events: none;
      transition: opacity .2s ease;
      max-width: 92vw;
      text-align: center;
      line-height: 1.3;
    }
    .toast.show { opacity: 1; }

    /* Small spacing between blocks */
    .spacer { height: 0px; background: #000; }
  </style>
</head>
<body>
  <div class="wrap">
    <div class="img-block"><img src="./landing1/1.gif" alt="banner" loading="eager"></div>
    <div class="img-block"><img src="./landing1/2.png" alt="section2" loading="lazy"></div>

    <!-- FORM + CTA (3) -->
    <section class="form-zone" id="form-top">
      <form class="form-inner lead-form" data-form-id="top" autocomplete="on">
        <div class="q">
          <div class="q-title">Q. ì›í•˜ëŠ” íƒ€ì…ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</div>
          <div class="chips" data-field="type">
            <button type="button" class="chip" data-value="ì–¼ìŒ">ì–¼ìŒ</button>
            <button type="button" class="chip" data-value="ëƒ‰ì˜¨">ëƒ‰ì˜¨</button>
            <button type="button" class="chip" data-value="ëƒ‰ì •">ëƒ‰ì •</button>
            <button type="button" class="chip" data-value="ì •ìˆ˜ì „ìš©">ì •ìˆ˜ì „ìš©</button>
            <button type="button" class="chip" data-value="ê¸°íƒ€">ê¸°íƒ€</button>
          </div>
        </div>

        <div class="q">
          <div class="q-title">Q. ê´€ë¦¬ë°©ì‹ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</div>
          <div class="chips" data-field="care">
            <button type="button" class="chip" data-value="ë°©ë¬¸ê´€ë¦¬">ë°©ë¬¸ê´€ë¦¬</button>
            <button type="button" class="chip" data-value="ìê°€ê´€ë¦¬">ìê°€ê´€ë¦¬</button>
          </div>
        </div>

        <div class="q">
          <div class="q-title">Q. ìƒë‹´ê°€ëŠ¥ì‹œê°„</div>
          <div class="chips" data-field="callTime">
            <button type="button" class="chip" data-value="ì•„ë¬´ë•Œë‚˜">ì•„ë¬´ë•Œë‚˜</button>
            <button type="button" class="chip" data-value="09ì‹œ~12ì‹œ">09ì‹œ~12ì‹œ</button>
            <button type="button" class="chip" data-value="12ì‹œ~15ì‹œ">12ì‹œ~15ì‹œ</button>
            <button type="button" class="chip" data-value="15ì‹œ~18ì‹œ">15ì‹œ~18ì‹œ</button>
          </div>
        </div>

        <div class="row">
          <label for="name-top">ì„±í•¨</label>
          <input id="name-top" name="name" type="text" placeholder="ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”." required />
        </div>

        <div class="row">
          <label for="phone-top">ì—°ë½ì²˜</label>
          <input id="phone-top" name="phone" type="tel" inputmode="tel" placeholder="010-0000-0000" required />
        </div>

        <div class="agree">
          <div class="agree-line">
            <input id="agree-top" type="checkbox" name="agree" value="y" required />
            <label for="agree-top" style="margin:0;color:#111;">ê°œì¸ì •ë³´ ì·¨ê¸‰ë°©ì¹¨ ë™ì˜</label>
            <a href="./privacy.html" target="_blank" rel="noopener">[ìì„¸íˆ ë³´ê¸°]</a>
          </div>
          <div class="hint">* ìƒë‹´ì‹ ì²­ í›„ ê±¸ë ¤ì˜¤ëŠ” ì „í™”ë¥¼ ê¼­ ë°›ì•„ì£¼ì„¸ìš”!</div>
        </div>

        <input type="hidden" name="type" value="">
        <input type="hidden" name="care" value="">
        <input type="hidden" name="callTime" value="">
        <input type="hidden" name="page" value="">
        <button type="submit" class="cta-btn" aria-label="ë¬´ë£Œìƒë‹´ ì‹ ì²­í•˜ê¸° (ìƒë‹¨)">
          <img src="./landing1/3.png" alt="ë¬´ë£Œìƒë‹´ ì‹ ì²­í•˜ê¸°" style="width:100%;height:auto;display:block;border-radius:12px;" loading="lazy">
        </button>
      </form>
    </section>

    <div class="img-block"><img src="./landing1/4.png" alt="section4" loading="lazy"></div>
    <div class="img-block"><img src="./landing1/5.png" alt="section5" loading="lazy"></div>
    <div class="img-block"><img src="./landing1/6.png" alt="section6" loading="lazy"></div>
    <div class="img-block"><img src="./landing1/7.png" alt="section7" loading="lazy"></div>
    <div class="img-block"><img src="./landing1/8.gif" alt="section8gif" loading="lazy"></div>

    <!-- FORM + CTA (9) -->
    <section class="form-zone" id="form-bottom">
      <form class="form-inner lead-form" data-form-id="bottom" autocomplete="on">
        <div class="q">
          <div class="q-title">Q. ì›í•˜ëŠ” íƒ€ì…ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</div>
          <div class="chips" data-field="type">
            <button type="button" class="chip" data-value="ì–¼ìŒ">ì–¼ìŒ</button>
            <button type="button" class="chip" data-value="ëƒ‰ì˜¨">ëƒ‰ì˜¨</button>
            <button type="button" class="chip" data-value="ëƒ‰ì •">ëƒ‰ì •</button>
            <button type="button" class="chip" data-value="ì •ìˆ˜ì „ìš©">ì •ìˆ˜ì „ìš©</button>
            <button type="button" class="chip" data-value="ê¸°íƒ€">ê¸°íƒ€</button>
          </div>
        </div>

        <div class="q">
          <div class="q-title">Q. ê´€ë¦¬ë°©ì‹ì„ ì„ íƒí•´ì£¼ì„¸ìš”.</div>
          <div class="chips" data-field="care">
            <button type="button" class="chip" data-value="ë°©ë¬¸ê´€ë¦¬">ë°©ë¬¸ê´€ë¦¬</button>
            <button type="button" class="chip" data-value="ìê°€ê´€ë¦¬">ìê°€ê´€ë¦¬</button>
          </div>
        </div>

        <div class="q">
          <div class="q-title">Q. ìƒë‹´ê°€ëŠ¥ì‹œê°„</div>
          <div class="chips" data-field="callTime">
            <button type="button" class="chip" data-value="ì•„ë¬´ë•Œë‚˜">ì•„ë¬´ë•Œë‚˜</button>
            <button type="button" class="chip" data-value="09ì‹œ~12ì‹œ">09ì‹œ~12ì‹œ</button>
            <button type="button" class="chip" data-value="12ì‹œ~15ì‹œ">12ì‹œ~15ì‹œ</button>
            <button type="button" class="chip" data-value="15ì‹œ~18ì‹œ">15ì‹œ~18ì‹œ</button>
          </div>
        </div>

        <div class="row">
          <label for="name-bottom">ì„±í•¨</label>
          <input id="name-bottom" name="name" type="text" placeholder="ì„±í•¨ì„ ì…ë ¥í•´ì£¼ì„¸ìš”." required />
        </div>

        <div class="row">
          <label for="phone-bottom">ì—°ë½ì²˜</label>
          <input id="phone-bottom" name="phone" type="tel" inputmode="tel" placeholder="010-0000-0000" required />
        </div>

        <div class="agree">
          <div class="agree-line">
            <input id="agree-bottom" type="checkbox" name="agree" value="y" required />
            <label for="agree-bottom" style="margin:0;color:#111;">ê°œì¸ì •ë³´ ì·¨ê¸‰ë°©ì¹¨ ë™ì˜</label>
            <a href="./privacy.html" target="_blank" rel="noopener">[ìì„¸íˆ ë³´ê¸°]</a>
          </div>
          <div class="hint">* ìƒë‹´ì‹ ì²­ í›„ ê±¸ë ¤ì˜¤ëŠ” ì „í™”ë¥¼ ê¼­ ë°›ì•„ì£¼ì„¸ìš”!</div>
        </div>

        <input type="hidden" name="type" value="">
        <input type="hidden" name="care" value="">
        <input type="hidden" name="callTime" value="">
        <input type="hidden" name="page" value="">
        <button type="submit" class="cta-btn" aria-label="ë¬´ë£Œìƒë‹´ ì‹ ì²­í•˜ê¸° (í•˜ë‹¨)">
          <img src="./landing1/9.png" alt="ë¬´ë£Œìƒë‹´ ì‹ ì²­í•˜ê¸°" style="width:100%;height:auto;display:block;border-radius:12px;" loading="lazy">
        </button>
      </form>
    </section>

    <div class="spacer"></div>
  </div>

  <div class="toast" id="toast">ì „ì†¡ ì¤‘...</div>

  <script>
    const WEBAPP_URL = 'https://script.google.com/macros/s/AKfycbwOXfN7QPf0hKaVHHRGOE8ZRGVGABEmZVz1NPYCHbKL_BleI3mKMrvRpFWTrNrrQ4yO/exec';

    function showToast(msg, ms=2200) {
      const el = document.getElementById('toast');
      el.textContent = msg;
      el.classList.add('show');
      window.clearTimeout(showToast._t);
      showToast._t = window.setTimeout(() => el.classList.remove('show'), ms);
    }

    function normalizePhone(v) {
      const digits = (v || '').replace(/\D/g, '');
      if (!digits) return '';
      // 010xxxxxxxx -> 010-xxxx-xxxx
      if (digits.length === 11) return digits.replace(/(\d{3})(\d{4})(\d{4})/, '$1-$2-$3');
      if (digits.length === 10) return digits.replace(/(\d{3})(\d{3})(\d{4})/, '$1-$2-$3');
      return v.trim();
    }

    function setupForm(form) {
      const chipsGroups = form.querySelectorAll('.chips[data-field]');
      chipsGroups.forEach(group => {
        const field = group.getAttribute('data-field');
        const hidden = form.querySelector('input[name="' + field + '"]');
        group.addEventListener('click', (e) => {
          const btn = e.target.closest('.chip');
          if (!btn) return;
          // single-select per group
          [...group.querySelectorAll('.chip')].forEach(b => b.dataset.selected = 'false');
          btn.dataset.selected = 'true';
          hidden.value = btn.getAttribute('data-value') || '';
        });
      });

      // set page
      const pageHidden = form.querySelector('input[name="page"]');
      if (pageHidden) pageHidden.value = window.location.href;

      // phone formatting
      const phoneInput = form.querySelector('input[name="phone"]');
      if (phoneInput) {
        phoneInput.addEventListener('blur', () => {
          phoneInput.value = normalizePhone(phoneInput.value);
        });
      }

      form.addEventListener('submit', async (e) => {
        e.preventDefault();

        // Required selections check (type/care/callTime)
        const type = form.querySelector('input[name="type"]').value.trim();
        const care = form.querySelector('input[name="care"]').value.trim();
        const callTime = form.querySelector('input[name="callTime"]').value.trim();
        if (!type) return showToast('ì›í•˜ëŠ” íƒ€ì…ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
        if (!care) return showToast('ê´€ë¦¬ë°©ì‹ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');
        if (!callTime) return showToast('ìƒë‹´ê°€ëŠ¥ì‹œê°„ì„ ì„ íƒí•´ì£¼ì„¸ìš”.');

        const fd = new FormData(form);
        const payload = {};
        fd.forEach((v, k) => payload[k] = String(v || '').trim());
        payload.phone = normalizePhone(payload.phone);
        payload.agree = (payload.agree === 'y') ? 'y' : 'n';

        showToast('ì „ì†¡ ì¤‘...', 8000);

        try {
          const res = await fetch(WEBAPP_URL, {
  method: 'POST',
  body: new FormData(form),
});
          const txt = await res.text();
          let data = null;
          try { data = JSON.parse(txt); } catch (_) {}

          if (!res.ok) {
            showToast('ì „ì†¡ ì‹¤íŒ¨: ë„¤íŠ¸ì›Œí¬ ì˜¤ë¥˜');
            return;
          }

          if (data && data.ok) {
            showToast('ìƒë‹´ ì‹ ì²­ ì™„ë£Œ! ê³§ ì—°ë½ë“œë¦´ê²Œìš” ğŸ˜Š');
            form.reset();
            // clear selected chips
            form.querySelectorAll('.chip').forEach(b => b.dataset.selected = 'false');
            // restore page hidden
            const pageHidden2 = form.querySelector('input[name="page"]');
            if (pageHidden2) pageHidden2.value = window.location.href;
          } else {
            const msg = (data && data.message) ? data.message : 'ì „ì†¡ ì‹¤íŒ¨';
            showToast(msg);
          }
        } catch (err) {
          showToast('ì „ì†¡ ì‹¤íŒ¨: ' + (err?.message || 'ì˜¤ë¥˜'));
        }
      });
    }

    document.querySelectorAll('form.lead-form').forEach(setupForm);
  </script>
</body>
</html>
